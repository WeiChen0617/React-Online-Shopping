(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[710],{20557:function(S,m,e){"use strict";e.r(m),e.d(m,{default:function(){return K}});var v=e(71194),j=e(50146),c=e(57663),P=e(71577),C=e(66456),d=e(55622),L=e(57361),V=e(33565),_=e(49111),I=e(19650),U=e(43358),s=e(34041),a=e(9754),o=e.n(a),u=e(57203),t=e(30381),n=e.n(t),f=e(67294),r=e(85893),B=s.Z.Option;function A(p){var g=[{title:"Name",dataIndex:"pname",key:"pname"},{title:"Category",dataIndex:"category",key:"category"},{title:"Price",dataIndex:"price",key:"price"},{title:"Quantity",dataIndex:"quantity",key:"quantity",render:function(x,h){return(0,r.jsxs)(I.Z,{size:"middle",children:[(0,r.jsx)("a",{onClick:function(){return p.addItem(h)},children:"+"}),h.quantity,(0,r.jsx)("a",{onClick:function(){return p.removeItem(h)},children:"-"})]})}}],D=(0,f.useState)(!1),O=(0,V.Z)(D,2),T=O[0],E=O[1],y=function(){E(!0)},Z=function(){E(!1)},W=(0,f.useState)([]),w=(0,V.Z)(W,2),b=w[0],Y=w[1];(0,f.useEffect)(function(){var l=function(){var x=(0,L.Z)(o().mark(function h(){var M,R;return o().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,u.pj)();case 3:M=i.sent,R=M.data,Y(R),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),console.log(i.t0);case 11:case"end":return i.stop()}},h,null,[[0,8]])}));return function(){return x.apply(this,arguments)}}();l()},[]);var G=function(x){var h={price:x.value};p.setVoucher(h)};return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{columns:g,pagination:!1,dataSource:p.products}),(0,r.jsx)("div",{style:{margin:"3rem",display:"flex",alignContent:"center",justifyContent:"flex-end"},children:(0,r.jsx)(s.Z,{style:{width:"20rem"},showSearch:!0,labelInValue:!0,placeholder:"Select a voucher",optionFilterProp:"children",onChange:G,filterOption:function(x,h){return h.children.toLowerCase().includes(x.toLowerCase())},children:b.map(function(l){return(0,r.jsxs)(B,{size:"600",disabled:n()(l.expiration).isBefore(n()()),value:l.price,children:[l.price," until ",n()(l.expiration,"YYYYMMDD").calendar()]})})})}),(0,r.jsx)("div",{style:{margin:"3rem",display:"flex",justifyContent:"flex-end"},children:(0,r.jsxs)("h2",{children:["Total amount: ",p.totalPrice," "]})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,r.jsx)(P.Z,{size:"large",shape:"round",onClick:y,children:"Purchase"}),(0,r.jsx)(j.Z,{title:"Tips",visible:T,onOk:Z,onCancel:Z,okText:"Confirm",cancelText:"Cancel",children:(0,r.jsx)("p",{children:"Are you ready to pay."})})]})]})}var $=(0,f.memo)(A),z=e(34820),K=function(p){var g=(0,z.tT)("cart",function(y){return{cart:y.cart,add_to_cart:y.add_to_cart,remove_from_cart:y.remove_from_cart,set_voucher:y.set_voucher}}),D=g.cart,O=g.set_voucher,T=g.add_to_cart,E=g.remove_from_cart;return(0,r.jsxs)("div",{style:{width:"85%",margin:"3rem auto"},children:[(0,r.jsx)("h1",{children:"My Shopping Cart"}),(0,r.jsx)("div",{children:(0,r.jsx)($,{products:D.shoppingList,setVoucher:O,totalPrice:D.totalPrice,addItem:T,removeItem:E})})]})}},84594:function(S,m,e){"use strict";e.d(m,{jD:function(){return v},ON:function(){return j},mL:function(){return c}});var v="https://tzq9yguyr0.execute-api.eu-west-2.amazonaws.com",j="https://s4ln5fqg40.execute-api.eu-west-2.amazonaws.com",c="dev"},57203:function(S,m,e){"use strict";e.d(m,{pj:function(){return L},Qw:function(){return _},wX:function(){return I},$:function(){return U}});var v=e(57361),j=e(9754),c=e.n(j),P=e(9669),C=e.n(P),d=e(84594),L=function(){var s=(0,v.Z)(c().mark(function a(){return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,C().get("".concat(d.jD,"/").concat(d.mL,"/voucher")).then(function(t){return t.data}).catch(function(t){return console.log(t)});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)}));return function(){return s.apply(this,arguments)}}(),V=null,_=function(){var s=(0,v.Z)(c().mark(function a(o){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C().delete("".concat(d.jD,"/").concat(d.mL,"/voucher/").concat(o)).then(function(n){return n.data}).catch(function(n){return console.log(n)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},a)}));return function(o){return s.apply(this,arguments)}}(),I=function(){var s=(0,v.Z)(c().mark(function a(o,u){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C().put("".concat(d.jD,"/").concat(d.mL,"/voucher/").concat(o),u).then(function(f){return f.data}).catch(function(f){return console.log(f)});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},a)}));return function(o,u){return s.apply(this,arguments)}}(),U=function(){var s=(0,v.Z)(c().mark(function a(o){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C().post("".concat(d.jD,"/").concat(d.mL,"/voucher"),o).then(function(n){return n.data}).catch(function(n){return console.log(n)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},a)}));return function(o){return s.apply(this,arguments)}}()}}]);
